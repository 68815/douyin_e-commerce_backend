# AI服务配置

# AI服务实现选择
# 可选值: default, elasticsearch, llm, hybrid
ai:
  service:
    impl: hybrid
  search:
    impl: elasticsearch
  chat:
    impl: llm

# Elasticsearch配置
spring:
  elasticsearch:
    uris: http://localhost:9200
    username: ${ES_USERNAME:elastic}
    password: ${ES_PASSWORD:}
    connection-timeout: 2s
    socket-timeout: 5s

  # Spring AI配置（OpenAI）
  ai:
    openai:
      api-key: ${OPENAI_API_KEY:}
      base-url: https://api.openai.com/v1
      chat:
        options:
          model: gpt-3.5-turbo
          temperature: 0.7
          max-tokens: 1000

  # 文心一言配置（备用）
  # ai:
  #   qianfan:
  #     api-key: ${QIANFAN_API_KEY:}
  #     secret-key: ${QIANFAN_SECRET_KEY:}
  #     chat:
  #       options:
  #         model: ERNIE-Bot-turbo
  #         temperature: 0.7

  # 通义千问配置（备用）
  # ai:
  #   dashscope:
  #     api-key: ${DASHSCOPE_API_KEY:}
  #     chat:
  #       options:
  #         model: qwen-turbo
  #         temperature: 0.7

  # 本地模型配置（备用）
  # ai:
  #   ollama:
  #     base-url: http://localhost:11434
  #     chat:
  #       options:
  #         model: llama3
  #         temperature: 0.7

# 搜索配置
search:
  fuzzy:
    max-expansions: 50
    prefix-length: 2
  pinyin:
    enabled: true
  typo-tolerance:
    enabled: true
    max-edits: 2

# AI客服配置
ai-chat:
  max-history: 10
  timeout: 30s
  fallback-to-default: true

# 性能监控
management:
  metrics:
    export:
      elasticsearch:
        enabled: true
        host: http://localhost:9200
  endpoint:
    ai:
      enabled: true